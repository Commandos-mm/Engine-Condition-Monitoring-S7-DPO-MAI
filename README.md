# Задание 1
Предсказать performance значения для каждого полетного цикла.
![alt text](/contents/img/tech_task.jpeg)

# Решение задания 1
Для решения данной задачи, в первую очередь, необходимо провести разведочный анализ и предобработку данных. Предобработка данных заключается в разбиении исходного датасета на 6 датасетов, соответствующие различным комбинациям семейств двигателей и типа полета.
Первый этап работы изложен в нескольких ноутбуках:

eda_full_merged_6parts_nonan (2).ipynb - разведочный анализ данных с использованием библиотеки pandas_profiling на разбитом датасете

eda_s7_baseline.ipynb - корреляционная матрица для одного из шести новых датасетов (является промежуточным этапом)

s7_input_corr.ipynb - корреляционная матрица входных параметров для разбитого датасета

s7_output_corr.ipynb - матрица корреляций между входными и выходными параметрами

Зависимости параметров.pdf - аналитика зависимостей на основе корреляционных матриц

Характеристики.pdf - результаты теоретического исследования предметной области с целью получения более подробной информации о параметрах

Следующий этап состоит в подборе модели. Были изучены следующие модели:

s7_catboost_splited.ipynb - катбуст (базовое решение) на разбитом датасете

s7_gd_cb_GSCV.ipynb - gridsearch

s7_perceptron_mine_trained.ipynb - perceptron

s7_pure_data_cb_lgbm.ipynb - GB модели

# Задание 2

Предсказать необходимое ТО для двигателей.

Решение данной задачи будет строиться с использованием языка Python и следующего стека технологий: 

- pandas и numpy для работы с данными
  
- seaborn и matplotlib для визуализации данных
  
На начальном этапе необходимо определить уникальные семейства двигателей в датасете, а также теоретические сведения о значениях параметров, которые свидетельствуют о наличии различных проблем и при которых рекомендуется проведение технического обслуживания для данных семейств. Были выделены следующие уникальные семейства двигателей в датасете: CFM56-5B, CF34-8E, CFM56-7. В литературе описаны 13 проблем, которые могут возникнуть у двигателей данных семейств. Для каждой проблемы определены интервалы трех параметров, попадание в которые говорит о плохом состоянии двигателя. Для выявления дефектов двигателей датасета были написаны три функции:

1)	check_condition()
    
Функция выполняет проверку трех условий для параметров из DataFrame.

Входные параметры:

        - data (pd.DataFrame): DataFrame, на основе которого будет выполняться проверка.
        
        - intervals (list): Список интервалов, содержащий значения верхней и нижней границ для каждого из параметров.
        
      Выходные параметры:
      
       - list: Список индексов строк, удовлетворяющих условиям.

2)	check_problem()
   
Функция проверяет выполнение условий проблем для заданного двигателя и воздушного судна.

    Входные параметры:
    
        - target_engine_id (str): Идентификатор целевого двигателя.
        
        - target_aircraft_id (str): Идентификатор целевого воздушного судна.
        
        - df (pd.DataFrame): DataFrame, содержащий данные о двигателях и воздушных судах.
        
        - mechanical_problem (dict): Словарь, содержащий проблемы и соответствующие им интервалы значений параметров.
        
    Выходные параметры:
    
        - dict: Словарь, где ключи соответствуют проблемам, а значения - спискам индексов строк, удовлетворяющих условиям.
        
3) find_all_mech_problem()
   
Функция находит все механические проблемы в DataFrame для всех уникальных пар двигатель-воздушное судно.

    Входные параметры:
    
        - df (pd.DataFrame): DataFrame, содержащий данные о двигателях, воздушных судах и их параметрах.
        
        - mechanical_problem (dict): Словарь, содержащий проблемы и соответствующие им интервалы значений параметров.
        
    Выходные параметры:
    
        - pd.DataFrame: DataFrame с результатами, содержащими идентификаторы двигателя и воздушного судна, параметры, проблемы и соответствующие индексы строк.

С помощью данных функций был получен DataFrame со всеми проблемами и построены гистограммы распределения проблем.


# Как запускать

Сменить директорию на app.
```
cd app
```

Собрать docker образ с решением можно при помощи команды: 

```
make build
```

Установить необходимые зависимости локально (**Необходимо наличие pip 3 версии**):
```
make install
```

Собрать приложение локально:
```
make run-local
```

